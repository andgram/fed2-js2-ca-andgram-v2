import{A as n,h as c,d as a}from"./displayMessage-CqJwHQFs.js";import{a as i}from"./authGuard-C2GFzsuy.js";import"./auth-fjUhtDne.js";async function m({title:e,body:s}){const o=JSON.stringify({title:e,body:s}),t=await fetch(`${n}`,{method:"POST",body:o,headers:c()}),r=await t.json();if(t.ok===!1)throw new Error(r.errors[0].message);return r}async function f(e){e.preventDefault();const s=e.target,o=new FormData(s),t=Object.fromEntries(o.entries());try{await m(t),a("#message","success","Post created succesdfully."),s.reset(),setTimeout(()=>{window.location.href="/profile/"},2e3)}catch(r){a("#message","error",r.message)}}i();const d=document.forms.createPost;d.addEventListener("submit",f);
