import{b as i,h as c,d as m}from"./displayMessage-CqJwHQFs.js";import{s as f,a as d}from"./auth-fjUhtDne.js";async function g({email:s,password:e}){const t=JSON.stringify({email:s,password:e}),a=await fetch(`${i}`,{method:"POST",body:t,headers:c()});if(!a.ok){const o=await a.json();throw new Error(o.message||"Login failed")}return await a.json()}async function w(s){s.preventDefault();const e=s.target,t=new FormData(e),a=Object.fromEntries(t.entries());try{const{data:o}=await g(a),{accessToken:n,name:r}=o;f(n),d(r),window.location.href="/"}catch(o){m("#message","error",o.message)}}const h=document.forms.login;h.addEventListener("submit",w);
